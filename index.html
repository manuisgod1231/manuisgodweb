<!DOCTYPE html>
<html>
<head>
  <title>ManuisGodWeb</title>
  <style>
    body {
      font-family: Arial;
      background-color: #111;
      color: white;
      text-align: center;
      margin-top: 100px;
    }
    input, button {
      padding: 8px;
      margin: 5px;
      border-radius: 6px;
    }
    #mainUI, #profileUI, #ownerPanel {
      display: none;
    }
    #moneyDisplay {
      position: absolute;
      top: 10px;
      left: 10px;
      background: #222;
      padding: 6px 12px;
      border-radius: 8px;
    }
    #profileUI {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #222;
      padding: 10px;
      border-radius: 10px;
    }
    #toggleOwnerUI {
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <div id="loginUI">
    <h2>Login / Create Account</h2>
    <input id="username" placeholder="Username"><br>
    <input id="password" type="password" placeholder="Password"><br>
    <button onclick="login()">Login</button>
    <button onclick="createAccount()">Create Account</button>
    <p id="loginMsg" style="color:red;"></p>
  </div>

  <div id="mainUI">
    <div id="moneyDisplay">üí∞ Money: $0</div>

    <div id="profileUI">
      <h3>Profile</h3>
      <p id="currentUserText"></p>
      <button onclick="logout()">Logout</button><br>
      <button id="toggleOwnerUI" onclick="toggleOwner()">Toggle Owner Panel</button>
    </div>

    <div id="ownerPanel">
      <h4>Owner Panel</h4>
      <textarea id="accountsList" rows="5" cols="30" readonly></textarea><br>
      <input id="giveMoneyUser" placeholder="User to give"><br>
      <input id="giveMoneyAmount" type="number" placeholder="Amount"><br>
      <button onclick="giveMoney()">Give</button>
    </div>
  </div>

  <script>
    let accounts = JSON.parse(localStorage.getItem("accounts")) || {};

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á owner ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ
    if (!accounts["manyu"]) {
      accounts["manyu"] = {
        password: "Manuufo25252265",
        money: 1000,
        role: "owner"
      };
      localStorage.setItem("accounts", JSON.stringify(accounts));
    }

    let currentUser = localStorage.getItem("currentUser");

    function login() {
      const u = document.getElementById("username").value;
      const p = document.getElementById("password").value;

      if (accounts[u] && accounts[u].password === p) {
        currentUser = u;
        localStorage.setItem("currentUser", u);
        showMain();
      } else {
        document.getElementById("loginMsg").textContent = "‚ùå Invalid credentials";
      }
    }

    function createAccount() {
      const u = document.getElementById("username").value;
      const p = document.getElementById("password").value;

      if (!u || !p) return alert("Enter name and password");
      if (accounts[u]) return alert("Account already exists");

      accounts[u] = { password: p, money: 0, role: "user" };
      localStorage.setItem("accounts", JSON.stringify(accounts));
      alert("Account created!");
    }

    function logout() {
      localStorage.removeItem("currentUser");
      currentUser = null;
      location.reload();
    }

    function showMain() {
      document.getElementById("loginUI").style.display = "none";
      document.getElementById("mainUI").style.display = "block";

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô accounts
      if (!accounts[currentUser]) {
        alert("‚ùå User not found. Please login again.");
        logout();
        return;
      }

      document.getElementById("currentUserText").textContent = "Logged in as: " + currentUser;
      updateMoney();
      updateAccountList();

      if (accounts[currentUser].role === "owner") {
        document.getElementById("toggleOwnerUI").style.display = "inline-block";
      } else {
        document.getElementById("toggleOwnerUI").style.display = "none";
        document.getElementById("ownerPanel").style.display = "none";
      }
    }

    function updateMoney() {
      let money = accounts[currentUser]?.money ?? 0;
      document.getElementById("moneyDisplay").textContent = `üí∞ Money: $${money}`;
    }

    function updateAccountList() {
      let list = "";
      for (let user in accounts) {
        const money = accounts[user].money ?? 0;
        list += `‚Ä¢ ${user}: $${money}\n`;
      }
      document.getElementById("accountsList").value = list;
    }

    function giveMoney() {
      const to = document.getElementById("giveMoneyUser").value;
      const amt = parseInt(document.getElementById("giveMoneyAmount").value);
      if (!accounts[to]) return alert("User not found!");
      if (isNaN(amt) || amt <= 0) return alert("Invalid amount");

      accounts[to].money = (accounts[to].money || 0) + amt;
      localStorage.setItem("accounts", JSON.stringify(accounts));
      updateAccountList();
      updateMoney();
      alert(`‚úÖ Gave $${amt} to ${to}`);
    }

    function toggleOwner() {
      const panel = document.getElementById("ownerPanel");
      panel.style.display = panel.style.display === "none" ? "block" : "none";
    }

    // ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö (‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ñ‡∏¢ login)
    if (currentUser && accounts[currentUser]) {
      showMain();
    }
  </script>
</body>
</html>
