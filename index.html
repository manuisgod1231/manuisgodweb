<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>manuisgod UI with Owner Panel</title>
<style>
  * {
    box-sizing: border-box;
    transition: all 0.3s ease;
  }
  body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #1e1e1e, #2a2a2a);
    color: white;
    text-align: center;
    padding: 50px;
    margin: 0;
    position: relative;
    min-height: 100vh;
  }
  .ui-box {
    background-color: #2e2e2e;
    padding: 30px;
    border-radius: 15px;
    display: inline-block;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
    animation: fadeIn 0.8s ease;
    max-width: 350px;
  }
  input[type="text"], input[type="password"], input[type="number"] {
    padding: 12px;
    border-radius: 8px;
    border: 1px solid #444;
    background-color: #1c1c1c;
    color: white;
    width: 100%;
    margin-bottom: 12px;
    outline: none;
  }
  input[type="text"]:focus, input[type="password"]:focus, input[type="number"]:focus {
    border-color: #007bff;
    background-color: #262626;
  }
  button {
    padding: 12px 24px;
    border: none;
    background: linear-gradient(135deg, #007bff, #0056b3);
    color: white;
    border-radius: 8px;
    cursor: pointer;
    margin: 5px 0;
    font-weight: bold;
    box-shadow: 0 4px 10px rgba(0, 123, 255, 0.2);
    width: 100%;
  }
  button:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 14px rgba(0, 123, 255, 0.3);
  }
  #outputText {
    margin-top: 15px;
    font-style: italic;
    opacity: 0.9;
  }
  #profileBtn {
    position: fixed;
    top: 20px;
    right: 20px;
    background: linear-gradient(135deg, #007bff, #0056b3);
    border: none;
    padding: 10px 16px;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0, 123, 255, 0.3);
    display: none;
    z-index: 1000;
  }
  #profileBtn:hover {
    box-shadow: 0 6px 14px rgba(0, 123, 255, 0.5);
    transform: scale(1.1);
  }
  #profileBox {
    position: fixed;
    top: 60px;
    right: 20px;
    background-color: #2e2e2e;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.6);
    display: none;
    width: 220px;
    z-index: 1000;
    text-align: left;
  }
  #moneyDisplay {
    position: fixed;
    top: 20px;
    left: 20px;
    background: #007bff;
    padding: 8px 16px;
    border-radius: 16px;
    font-weight: 700;
    font-size: 16px;
    user-select: none;
    box-shadow: 0 4px 10px rgba(0,123,255,0.4);
  }
  /* Owner Panel */
  #ownerPanel {
    display: none;
    position: fixed;
    bottom: 140px;
    right: 24px;
    width: 320px;
    background: #fff;
    border-radius: 32px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.15);
    padding: 24px;
    text-align: left;
    font-weight: 600;
    color: #1c1c1e;
    user-select: text;
    z-index: 10000;
  }
  #ownerPanel h3 {
    margin-top: 0;
  }
  #ownerPanel label {
    font-weight: 600;
    color: #333;
  }
  #ownerPanel input[type="text"],
  #ownerPanel input[type="number"] {
    width: 100%;
    padding: 8px;
    margin-bottom: 8px;
    border-radius: 12px;
    border: 1px solid #ccc;
    font-weight: 600;
    font-size: 14px;
    color: #222;
  }
  #ownerPanel button {
    width: 100%;
    margin-bottom: 6px;
    padding: 12px;
    border: none;
    border-radius: 20px;
    font-weight: 700;
    cursor: pointer;
  }
  #giveBtn { background: #28a745; color: #fff; }
  #setBtn { background: #007bff; color: #fff; }
  #removeBtn { background: #dc3545; color: #fff; }
  #banBtn { background: #6c757d; color: #fff; }
  #ownerPanel #accountList {
    max-height: 160px;
    overflow-y: auto;
    padding-right: 8px;
    color: #444;
    font-weight: 500;
    border: 1px solid #eee;
    border-radius: 16px;
    background: #f9f9fb;
    margin-top: 20px;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }
</style>
</head>
<body>

  <!-- Login UI -->
  <div class="ui-box" id="loginBox">
    <h2>Login</h2>
    <input type="text" id="loginUsername" placeholder="Username" autocomplete="off" autocorrect="off" autocapitalize="none" />
    <input type="password" id="loginPassword" placeholder="Password" autocomplete="off" />
    <button id="loginBtn">Login</button>
    <button id="goToSignUpBtn">Create Account</button>
    <p id="outputText"></p>
  </div>

  <!-- Sign Up UI -->
  <div class="ui-box" id="signUpBox" style="display:none;">
    <h2>Create Account</h2>
    <input type="text" id="signUpUsername" placeholder="Choose Username" autocomplete="off" autocorrect="off" autocapitalize="none" />
    <input type="password" id="signUpPassword" placeholder="Choose Password" autocomplete="off" />
    <button id="createAccBtn">Create Account</button>
    <button id="backToLoginBtn">Back to Login</button>
    <p id="signUpOutput"></p>
  </div>

  <!-- Main UI -->
  <div class="ui-box" id="mainUI" style="display:none;">
    <h2>Welcome!</h2>
    <p id="welcomeMessage"></p>
  </div>

  <!-- Profile Button -->
  <button id="profileBtn" style="display:none;">Profile</button>

  <!-- Profile Box -->
  <div id="profileBox">
    <h3>Your Profile</h3>
    <p><strong>Username:</strong> <span id="profileUsername"></span></p>
    <button id="logoutBtn" style="background:#dc3545;">Logout</button>
  </div>

  <!-- Money Display -->
  <div id="moneyDisplay" style="display:none;">Money: $0</div>

  <!-- Owner Panel -->
  <div id="ownerPanel">
    <h3>Owner Panel</h3>

    <label for="ownerUserInput">User:</label>
    <input type="text" id="ownerUserInput" placeholder="Username" autocomplete="off" autocorrect="off" autocapitalize="none" />

    <label for="ownerAmountInput">Amount:</label>
    <input type="number" id="ownerAmountInput" placeholder="Amount" min="0" />

    <button id="giveBtn">Give Money</button>
    <button id="setBtn">Set Money</button>
    <button id="removeBtn">Remove Money</button>
    <button id="banBtn">Ban User</button>

    <h4>Accounts List:</h4>
    <div id="accountList"></div>
  </div>

<script>
  // Accounts data stored as { username: { password, money } }
  let accounts = JSON.parse(localStorage.getItem("accounts")) || {};

  // List of banned users
  let bannedUsers = JSON.parse(localStorage.getItem("bannedUsers")) || [];

  // Current logged-in user
  let currentUser = localStorage.getItem("currentUser") || null;

  // Save accounts and banned users to localStorage
  function saveAccounts() {
    localStorage.setItem("accounts", JSON.stringify(accounts));
  }
  function saveBannedUsers() {
    localStorage.setItem("bannedUsers", JSON.stringify(bannedUsers));
  }

  // Check if user is banned
  function isBanned(user) {
    return bannedUsers.includes(user);
  }

  // UI Elements
  const loginBox = document.getElementById("loginBox");
  const signUpBox = document.getElementById("signUpBox");
  const mainUI = document.getElementById("mainUI");
  const profileBtn = document.getElementById("profileBtn");
  const profileBox = document.getElementById("profileBox");
  const moneyDisplay = document.getElementById("moneyDisplay");
  const ownerPanel = document.getElementById("ownerPanel");

  // Update money display for current user
  function updateMoneyDisplay() {
    if (currentUser && accounts[currentUser]) {
      moneyDisplay.textContent = `Money: $${accounts[currentUser].money}`;
      moneyDisplay.style.display = "block";
    } else {
      moneyDisplay.style.display = "none";
    }
  }

  // Update accounts list in owner panel
  function updateOwnerPanel() {
    const listDiv = document.getElementById("accountList");
    listDiv.innerHTML = "";
    for (const user in accounts) {
      let bannedMark = bannedUsers.includes(user) ? " (BANNED)" : "";
      listDiv.innerHTML += `<div>${user}: $${accounts[user].money}${bannedMark}</div>`;
    }
  }

  // Show/hide owner panel - only for owner "manyu"
  function toggleOwnerPanel() {
    if (currentUser !== "manyu") {
      alert("เฉพาะเจ้าของระบบเท่านั้นที่ใช้งานได้");
      return;
    }
    if (ownerPanel.style.display === "block") {
      ownerPanel.style.display = "none";
    } else {
      updateOwnerPanel();
      ownerPanel.style.display = "block";
    }
  }

  // Clear all input fields inside a container
  function clearInputs(container) {
    const inputs = container.querySelectorAll("input");
    inputs.forEach(input => input.value = "");
  }

  // Show profile box and fill username
  function showProfile() {
    document.getElementById("profileUsername").textContent = currentUser;
    profileBox.style.display = "block";
  }

  // Hide profile box
  function hideProfile() {
    profileBox.style.display = "none";
  }

  // Log out function
  function logout() {
    currentUser = null;
    localStorage.removeItem("currentUser");
    mainUI.style.display = "none";
    profileBtn.style.display = "none";
    profileBox.style.display = "none";
    moneyDisplay.style.display = "none";
    ownerPanel.style.display = "none";
    loginBox.style.display = "block";
  }

  // Login function
  function login() {
    const username = document.getElementById("loginUsername").value.trim();
    const password = document.getElementById("loginPassword").value.trim();

    if (!username || !password) {
      document.getElementById("outputText").textContent = "⚠️ กรุณากรอกชื่อผู้ใช้และรหัสผ่าน";
      return;
    }
    if (!accounts[username]) {
      document.getElementById("outputText").textContent = `❌ ไม่พบบัญชีสำหรับ '${username}'`;
      return;
    }
    if (accounts[username].password !== password) {
      document.getElementById("outputText").textContent = "❌ รหัสผ่านไม่ถูกต้อง";
      return;
    }
    if (isBanned(username)) {
      document.getElementById("outputText").textContent = "⛔ บัญชีนี้ถูกแบน";
      return;
    }
    currentUser = username;
    localStorage.setItem("currentUser", currentUser);
    document.getElementById("outputText").textContent = "";
    showMainUI();
  }

  // Create account function
  function createAccount() {
    const username = document.getElementById("signUpUsername").value.trim();
    const password = document.getElementById("signUpPassword").value.trim();

    if (!username || !password) {
      document.getElementById("signUpOutput").textContent = "⚠️ กรุณากรอกชื่อผู้ใช้และรหัสผ่าน";
      return;
    }
    if (accounts[username]) {
      document.getElementById("signUpOutput").textContent = "⚠️ มีบัญชีนี้อยู่แล้ว";
      return;
    }

    accounts[username] = { password: password, money: 0 };
    saveAccounts();
    document.getElementById("signUpOutput").textContent = `🎉 สร้างบัญชีสำหรับ ${username} เรียบร้อยแล้ว`;
    clearInputs(signUpBox);
  }

  // Show main UI after login/signup
  function showMainUI() {
    loginBox.style.display = "none";
    signUpBox.style.display = "none";
    mainUI.style.display = "inline-block";
    profileBtn.style.display = "block";
    document.getElementById("welcomeMessage").textContent = `สวัสดี, ${currentUser}! ยินดีต้อนรับ`;
    updateMoneyDisplay();
  }

  // Owner panel functions
  function ownerGiveMoney() {
    const user = document.getElementById("ownerUserInput").value.trim();
    const amount = parseInt(document.getElementById("ownerAmountInput").value);
    if (!user || isNaN(amount) || amount <= 0) {
      alert("กรุณากรอกชื่อผู้ใช้และจำนวนเงินที่ถูกต้อง");
      return;
    }
    if (!accounts[user]) {
      alert("ไม่พบผู้ใช้นี้");
      return;
    }
    if (isBanned(user)) {
      alert("ผู้ใช้นี้ถูกแบน");
      return;
    }
    accounts[user].money += amount;
    saveAccounts();
    updateOwnerPanel();
    if (user === currentUser) updateMoneyDisplay();
    alert(`เพิ่มเงิน $${amount} ให้ผู้ใช้ ${user} แล้ว`);
  }

  function ownerSetMoney() {
    const user = document.getElementById("ownerUserInput").value.trim();
    const amount = parseInt(document.getElementById("ownerAmountInput").value);
    if (!user || isNaN(amount) || amount < 0) {
      alert("กรุณากรอกชื่อผู้ใช้และจำนวนเงินที่ถูกต้อง");
      return;
    }
    if (!accounts[user]) {
      alert("ไม่พบผู้ใช้นี้");
      return;
    }
    if (isBanned(user)) {
      alert("ผู้ใช้นี้ถูกแบน");
      return;
    }
    accounts[user].money = amount;
    saveAccounts();
    updateOwnerPanel();
    if (user === currentUser) updateMoneyDisplay();
    alert(`ตั้งเงินผู้ใช้ ${user} เป็น $${amount} เรียบร้อยแล้ว`);
  }

  function ownerRemoveMoney() {
    const user = document.getElementById("ownerUserInput").value.trim();
    if (!user) {
      alert("กรุณากรอกชื่อผู้ใช้");
      return;
    }
    if (!accounts[user]) {
      alert("ไม่พบผู้ใช้นี้");
      return;
    }
    if (isBanned(user)) {
      alert("ผู้ใช้นี้ถูกแบน");
      return;
    }
    accounts[user].money = 0;
    saveAccounts();
    updateOwnerPanel();
    if (user === currentUser) updateMoneyDisplay();
    alert(`ลบเงินผู้ใช้ ${user} เรียบร้อยแล้ว`);
  }

  function ownerBanUser() {
    const user = document.getElementById("ownerUserInput").value.trim();
    if (!user) {
      alert("กรุณากรอกชื่อผู้ใช้");
      return;
    }
    if (!accounts[user]) {
      alert("ไม่พบผู้ใช้นี้");
      return;
    }
    if (isBanned(user)) {
      alert("ผู้ใช้นี้ถูกแบนอยู่แล้ว");
      return;
    }
    bannedUsers.push(user);
    saveBannedUsers();
    updateOwnerPanel();
    alert(`แบนผู้ใช้ ${user} เรียบร้อยแล้ว`);
    // ถ้าบุคคลที่ล็อกอินถูกแบน ให้ล็อกเอาท์อัตโนมัติ
    if (user === currentUser) logout();
  }

  // Event listeners
  window.onload = () => {
    // If already logged in, show main UI
    if (currentUser && accounts[currentUser] && !isBanned(currentUser)) {
      showMainUI();
    } else {
      logout(); // reset to login if invalid
    }

    document.getElementById("loginBtn").onclick = login;
    document.getElementById("goToSignUpBtn").onclick = () => {
      loginBox.style.display = "none";
      signUpBox.style.display = "inline-block";
      clearInputs(loginBox);
      document.getElementById("outputText").textContent = "";
    };
    document.getElementById("createAccBtn").onclick = createAccount;
    document.getElementById("backToLoginBtn").onclick = () => {
      signUpBox.style.display = "none";
      loginBox.style.display = "inline-block";
      clearInputs(signUpBox);
      document.getElementById("signUpOutput").textContent = "";
    };
    profileBtn.onclick = () => {
      if (profileBox.style.display === "block") {
        hideProfile();
      } else {
        showProfile();
      }
    };
    document.getElementById("logoutBtn").onclick = logout;

    // Owner panel toggle on Profile button long press (or double click)
    profileBtn.ondblclick = toggleOwnerPanel;

    // Owner panel buttons
    document.getElementById("giveBtn").onclick = ownerGiveMoney;
    document.getElementById("setBtn").onclick = ownerSetMoney;
    document.getElementById("removeBtn").onclick = ownerRemoveMoney;
    document.getElementById("banBtn").onclick = ownerBanUser;
  };
</script>

</body>
</html>
